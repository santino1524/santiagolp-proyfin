<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" lang="es">

<!-- HEAD DEL HTML -->
<head th:replace="~{fragments/general-fragments :: headers}">
</head>

<body>
	<div class="body-container">
		<!-- CONTENIDO DE CABECERA DE LA APP -->
		<div th:replace="~{fragments/general-fragments :: headerContent}">
		</div>

		<!-- CONTENIDO DE LA PAGINA -->
		<div class="container mt-4  mb-4 main">
			<div class="row justify-content-center">
				<div class="col-md-4">
					<div class="col text-center">
						<img src="/images/login.png" class="img-fluid"
							style="max-height: 150px;" alt="Login" title="Login">
					</div>

					<h2 class="text-center mb-4">Identifícate</h2>
					<form action="/authentication" method="POST" id="formLoginPage">
						<div th:if="${param.error != null}" class="alert alert-danger"
							role="alert">Nombre de usuario o contraseña incorrectos</div>
						<div th:if="${message != null}" class="alert alert-success"
							role="alert">
							<span th:text="${message}"></span>
						</div>
						<div class="alert alert-danger d-none" id='messageEmailErrorPage'
							role="alert"></div>
						<div class="form-group">
							<label for="inputEmail">Correo electrónico</label> <input
								type="email" name="username" class="form-control"
								id="inputEmail" placeholder="Correo electrónico" required
								autocomplete="username" oninput="convertToLowerCase(this)">
						</div>
						<div class="form-group">
							<label for="inputPassword">Contraseña</label> <input
								type="password" name="password" class="form-control"
								id="inputPassword" placeholder="Contraseña" required
								autocomplete="password"> <small><a href="#"
								style="text-decoration: none"
								onclick="loadRecoverPasswd(document.getElementById('inputEmail').value)">¿Has
									olvidado tu contraseña?</a></small>
						</div>
						<button type="submit" value="Login" class="btn btn-dark btn-block"
							onclick="submitLoginPage(event)">Iniciar sesión</button>
					</form>
					<div class="text-center mt-3">
						¿Eres nuevo por aquí? <a href="/register#"
							style="text-decoration: none"><b>¡Regístrate!</b></a>
					</div>
				</div>
			</div>
		</div>

		<!-- Modal Login -->
		<div class="modal fade" id="loginPageModal" tabindex="-1"
			role="dialog" aria-labelledby="generalModal" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Alerta de Seguridad</h5>
					</div>
					<div class="modal-body">La contraseña utilizada tiene como
						objetivo el primer inicio de sesión, debe cambiarla de inmediato o
						la aplicación será expuesta a brechas de seguridad.</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary"
							data-dismiss="modal" id="modalBtnOk"
							onclick="document.getElementById('formLoginPage').submit()">Aceptar</button>
					</div>
				</div>
			</div>
		</div>

		<!-- CONTENIDO DE PIE DE PAGINA -->
		<div th:replace="~{fragments/general-fragments :: footerContent}">
		</div>
	</div>
</body>

</html>
